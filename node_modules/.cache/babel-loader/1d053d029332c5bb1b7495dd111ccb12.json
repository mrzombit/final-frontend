{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { addClass, Event, attributes, compile, Component, EventHandler, getUniqueID, select, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, NotifyPropertyChanges, Property, remove, removeClass } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nvar ICONCSS = 'e-rating-icon e-icons e-star-filled';\nvar ITEMLIST = 'e-rating-item-list';\nvar ITEMCONTAINER = 'e-rating-item-container';\nvar SELECTED = 'e-rating-selected';\nvar INTERMEDIATE = 'e-rating-intermediate';\nvar LABEL = 'e-rating-label';\nvar RESET = 'e-icons e-reset';\nvar HIDDEN = 'e-rating-hidden';\nvar DISABLED = 'e-disabled';\nvar READONLY = 'e-rating-readonly';\nvar RTL = 'e-rtl';\nvar ANIMATION = 'e-rating-animation';\nvar FULLTEMPLATE = 'e-rating-full';\nvar EMPTYTEMPLATE = 'e-rating-empty';\nvar SELECTEDVALUE = 'e-selected-value';\nvar RATINGVALUE = '--rating-value';\n/**\n * Defines where to position the label in rating\n */\nexport var LabelPosition;\n(function (LabelPosition) {\n  /**\n   * The label is positioned at the top center of the rating component.\n   */\n  LabelPosition[\"Top\"] = \"Top\";\n  /**\n   * The label is positioned at the bottom center of the rating component.\n   */\n  LabelPosition[\"Bottom\"] = \"Bottom\";\n  /**\n   * The label is positioned at the left side of the rating component.\n   */\n  LabelPosition[\"Left\"] = \"Left\";\n  /**\n   * The label is positioned at the right side of the rating component.\n   */\n  LabelPosition[\"Right\"] = \"Right\";\n})(LabelPosition || (LabelPosition = {}));\n/**\n * Defines the precision type of the rating.\n * It is used to component the granularity of the rating, allowing users to provide ratings with varying levels of precision.\n */\nexport var PrecisionType;\n(function (PrecisionType) {\n  /**\n   * The rating is increased in whole number increments.\n   */\n  PrecisionType[\"Full\"] = \"Full\";\n  /**\n   * The rating is increased in increments of 0.5 (half).\n   */\n  PrecisionType[\"Half\"] = \"Half\";\n  /**\n   * The rating is increased in increments of 0.25 (quarter).\n   */\n  PrecisionType[\"Quarter\"] = \"Quarter\";\n  /**\n   * The rating is increased in increments of 0.1.\n   */\n  PrecisionType[\"Exact\"] = \"Exact\";\n})(PrecisionType || (PrecisionType = {}));\n/**\n * The Rating component allows the user to rate something by clicking on a set of symbols on a numeric scale.\n * This allows users to provide feedback or ratings for products, services, or content.\n *\n * ```html\n * <input id=\"rating\">\n * ```\n * ```typescript\n * <script>\n *   let ratingObj: Rating = new Rating();\n *   ratingObj.appendTo('#rating');\n * </script>\n * ```\n */\nvar Rating = /** @class */function (_super) {\n  __extends(Rating, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param  {RatingModel} options - Specifies the rating model\n   * @param  {string|HTMLButtonElement} element - Specifies the target element\n   */\n  function Rating(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.itemElements = [];\n    _this.tooltipOpen = false;\n    return _this;\n  }\n  Rating.prototype.preRender = function () {\n    if (!this.element.id) {\n      this.element.id = getUniqueID('e-' + this.getModuleName());\n    }\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      leftarrow: 'leftarrow',\n      rightarrow: 'rightarrow',\n      uparrow: 'uparrow',\n      space: 'space'\n    };\n  };\n  Rating.prototype.render = function () {\n    this.initialize();\n    this.updateMinValue();\n    this.updateTemplateFunction();\n    this.renderItems();\n    this.updatePrecision();\n    this.displayLabel();\n  };\n  Rating.prototype.initialize = function () {\n    this.wrapper = this.createElement('div', {\n      className: 'e-' + this.getModuleName() + '-container '\n    });\n    this.element.parentNode.insertBefore(this.wrapper, this.element);\n    this.wrapper.appendChild(this.element);\n    if (this.element.getAttribute('name') == null) {\n      this.element.setAttribute('name', this.element.id);\n    }\n    attributes(this.element, {\n      'aria-label': 'rating'\n    });\n    this.renderItemList();\n    this.updateReset();\n    this.updateDisabled();\n    this.wrapper.classList[this.readOnly ? 'add' : 'remove'](READONLY);\n    this.wrapper.classList[!this.visible ? 'add' : 'remove'](HIDDEN);\n    this.wrapper.classList[this.enableRtl ? 'add' : 'remove'](RTL);\n    this.wrapper.classList[this.enableAnimation ? 'add' : 'remove'](ANIMATION);\n    if (this.cssClass) {\n      addClass([this.wrapper], this.cssClass.split(' '));\n    }\n    this.updateTooltip();\n    this.wireKeyboardEvent();\n  };\n  Rating.prototype.updateDisabled = function () {\n    this.wrapper.classList[this.disabled ? 'add' : 'remove'](DISABLED);\n    attributes(this.ratingItemList, {\n      'tabindex': this.disabled ? '-1' : '0'\n    });\n    if (this.allowReset) {\n      this.updateResetButton();\n    }\n  };\n  Rating.prototype.updateResetButton = function () {\n    var isDisabled = this.value <= this.min || this.disabled;\n    this.resetElement.classList[isDisabled ? 'add' : 'remove'](DISABLED);\n    attributes(this.resetElement, {\n      'aria-label': 'resetbutton',\n      'role': 'button',\n      'tabindex': isDisabled ? '-1' : '0',\n      'aria-hidden': isDisabled.toString()\n    });\n  };\n  Rating.prototype.renderItemList = function () {\n    var _this = this;\n    this.ratingItemList = this.createElement('div', {\n      className: ITEMLIST,\n      id: this.element.id + '_item-list',\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    attributes(this.ratingItemList, {\n      'aria-label': 'rating',\n      'role': 'slider'\n    });\n    this.wrapper.appendChild(this.ratingItemList);\n    EventHandler.add(this.ratingItemList, 'touchmove', function (e) {\n      return _this.touchMoveHandler(e);\n    }, this);\n    EventHandler.add(this.ratingItemList, Browser.touchEndEvent, this.touchEndHandler, this);\n  };\n  Rating.prototype.touchMoveHandler = function (e) {\n    var rect = this.ratingItemList.getBoundingClientRect();\n    var x = e.touches[0].clientX - rect.x;\n    var currValue = x / rect.width * this.itemsCount;\n    currValue = this.enableRtl ? this.itemsCount - currValue : currValue;\n    currValue = currValue < this.min ? this.min : currValue > this.itemsCount ? this.itemsCount : currValue;\n    currValue = this.validateValue(currValue);\n    var element = currValue === 0 ? null : this.itemElements[parseInt((Math.ceil(currValue) - 1).toString(), 10)];\n    if (currValue === this.currentValue) {\n      if (this.showTooltip && element) {\n        this.openRatingTooltip(element, false);\n      }\n      return;\n    }\n    var previousValue = this.currentValue;\n    this.updateCurrentValue(currValue);\n    this.triggerChange(e, currValue);\n    if (this.showTooltip) {\n      if (element) {\n        if (Math.ceil(currValue) !== Math.ceil(previousValue)) {\n          this.closeRatingTooltip();\n        }\n        this.openRatingTooltip(element, true);\n      } else {\n        this.closeRatingTooltip();\n      }\n    }\n  };\n  Rating.prototype.touchEndHandler = function () {\n    this.closeRatingTooltip();\n  };\n  Rating.prototype.updateTemplateFunction = function () {\n    this.emptyTemplateFunction = this.emptyTemplate ? this.getTemplateString(this.emptyTemplate) : null;\n    this.fullTemplateFunction = this.fullTemplate ? this.getTemplateString(this.fullTemplate) : null;\n  };\n  Rating.prototype.renderItems = function () {\n    var _this = this;\n    for (var i = 0; i < this.itemsCount; i++) {\n      var ratingItemContainer = this.createElement('span', {\n        className: ITEMCONTAINER\n      });\n      var spanItem = this.createElement('span', {\n        className: 'e-rating-item'\n      });\n      var ratingValue = this.getRatingValue(this.value, i);\n      this.renderItemContent(spanItem, ratingValue, i);\n      ratingItemContainer.appendChild(spanItem);\n      this.wireItemsEvents(ratingItemContainer, i + 1);\n      this.itemElements.push(ratingItemContainer);\n      var eventArgs = {\n        element: ratingItemContainer,\n        value: i + 1\n      };\n      this.trigger('beforeItemRender', eventArgs, function (args) {\n        _this.ratingItemList.appendChild(args.element);\n      });\n    }\n    attributes(this.ratingItemList, {\n      'aria-valuemax': this.itemsCount.toString()\n    });\n    if (this.disabled) {\n      attributes(this.ratingItemList, {\n        'tabindex': '-1'\n      });\n    }\n  };\n  Rating.prototype.renderItemContent = function (spanEle, val, index, isrerender) {\n    if (isrerender === void 0) {\n      isrerender = false;\n    }\n    if (isrerender) {\n      this.removeItemContent(spanEle);\n    }\n    if (this.fullTemplate && val === 1) {\n      spanEle.classList.add(FULLTEMPLATE);\n      spanEle.append(this.fullTemplateFunction({\n        index: index,\n        ratingValue: val\n      }, this, 'ratingFullTemplate', this.element.id + 'fullTemplate', this.isStringTemplate)[0]);\n    } else if (this.emptyTemplate) {\n      spanEle.classList.add(EMPTYTEMPLATE);\n      spanEle.append(this.emptyTemplateFunction({\n        index: index,\n        ratingValue: val\n      }, this, 'ratingEmptyTemplate', this.element.id + 'emptyTemplate', this.isStringTemplate)[0]);\n    } else {\n      addClass([spanEle], ICONCSS.split(' '));\n    }\n  };\n  Rating.prototype.removeItemContent = function (spanEle) {\n    spanEle.classList.remove(FULLTEMPLATE, EMPTYTEMPLATE);\n    removeClass([spanEle], ICONCSS.split(' '));\n    if (spanEle.firstChild) {\n      spanEle.removeChild(spanEle.firstChild);\n    }\n  };\n  Rating.prototype.updateTooltip = function () {\n    if (this.showTooltip) {\n      this.tooltipObj = new Tooltip({\n        target: '.e-rating-item-container',\n        windowCollision: true,\n        opensOn: 'Custom',\n        cssClass: this.cssClass ? 'e-rating-tooltip ' + this.cssClass : 'e-rating-tooltip'\n      });\n      this.tooltipObj.appendTo(this.ratingItemList);\n    } else {\n      if (!isNullOrUndefined(this.tooltipObj)) {\n        this.tooltipObj.destroy();\n        this.tooltipObj = null;\n      }\n    }\n  };\n  Rating.prototype.updateMinValue = function () {\n    this.min = this.validateValue(this.min);\n    if (this.min > 0 && this.value < this.min) {\n      this.triggerChange(null, this.min, false);\n    }\n    attributes(this.ratingItemList, {\n      'aria-valuemin': this.min.toString()\n    });\n  };\n  Rating.prototype.updatePrecision = function () {\n    this.min = this.validateValue(this.min);\n    this.triggerChange(null, this.validateValue(this.value), false);\n    this.updateItemValue();\n  };\n  Rating.prototype.validateValue = function (currentValue) {\n    if (currentValue > this.itemsCount) {\n      currentValue = this.itemsCount;\n    } else if (currentValue < 0) {\n      currentValue = 0;\n    } else {\n      currentValue = this.precision === PrecisionType.Full || this.enableSingleSelection ? Math.round(currentValue) : this.precision === PrecisionType.Half ? Math.round(currentValue * 2) / 2 : this.precision === PrecisionType.Quarter ? Math.round(currentValue * 4) / 4 : Math.round(currentValue * 10) / 10;\n    }\n    return currentValue;\n  };\n  Rating.prototype.getRatingValue = function (value, i) {\n    return this.enableSingleSelection ? value > i && value <= i + 1 ? 1 : 0 : value >= i + 1 ? 1 : value < i ? 0 : value - i;\n  };\n  Rating.prototype.updateItemValue = function () {\n    for (var i = 0; i < this.itemsCount; i++) {\n      var itemElement = this.itemElements[parseInt(i.toString(), 10)];\n      itemElement.classList.remove(SELECTED, INTERMEDIATE, SELECTEDVALUE);\n      var ratingValue = this.getRatingValue(this.currentValue, i);\n      if (ratingValue === 1) {\n        itemElement.classList.add(SELECTED);\n      } else if (ratingValue > 0) {\n        itemElement.classList.add(INTERMEDIATE);\n      } else if (this.precision === PrecisionType.Full && i + 1 <= this.value && !this.enableSingleSelection) {\n        itemElement.classList.add(SELECTEDVALUE);\n      }\n      this.updateItemContent(ratingValue, i);\n      itemElement.style.setProperty(RATINGVALUE, ratingValue * 100 + '%');\n      itemElement.classList[this.value === 0 && i === 0 || this.value === i + 1 || ratingValue > 0 && ratingValue < 1 ? 'add' : 'remove']('e-rating-focus');\n    }\n    if (this.allowReset) {\n      this.updateResetButton();\n    }\n    attributes(this.ratingItemList, {\n      'aria-valuenow': this.currentValue.toString()\n    });\n    attributes(this.element, {\n      'value': this.value.toString()\n    });\n  };\n  Rating.prototype.updateItemContent = function (ratingValue, index) {\n    if (!this.fullTemplate && !this.emptyTemplate) {\n      return;\n    }\n    var spanEle = this.itemElements[parseInt(index.toString(), 10)].querySelector('.e-rating-item');\n    if (this.fullTemplate && ratingValue === 1) {\n      if (spanEle.classList.contains(FULLTEMPLATE)) {\n        return;\n      }\n      this.removeItemContent(spanEle);\n      spanEle.classList.add(FULLTEMPLATE);\n      spanEle.append(this.fullTemplateFunction({\n        ratingValue: ratingValue,\n        index: index\n      }, this, 'ratingFullTemplate', this.element.id + 'fullTemplate', this.isStringTemplate)[0]);\n    } else if (this.emptyTemplate) {\n      this.removeItemContent(spanEle);\n      spanEle.classList.add(EMPTYTEMPLATE);\n      spanEle.append(this.emptyTemplateFunction({\n        ratingValue: ratingValue,\n        index: index\n      }, this, 'ratingFullTemplate', this.element.id + 'fullTemplate', this.isStringTemplate)[0]);\n    } else {\n      this.removeItemContent(spanEle);\n      addClass([spanEle], ICONCSS.split(' '));\n    }\n    this.renderReactTemplates();\n  };\n  Rating.prototype.updateTooltipContent = function (isChange) {\n    if (this.showTooltip) {\n      var content = void 0;\n      if (this.tooltipTemplate) {\n        var templateFunction = this.getTemplateString(this.tooltipTemplate);\n        content = templateFunction({\n          value: this.currentValue\n        }, this, 'ratingTooltipTemplate', this.element.id + 'tooltipTemplate', this.isStringTemplate)[0];\n      } else {\n        content = this.currentValue.toString();\n      }\n      this.tooltipObj.setProperties({\n        content: content\n      }, isChange);\n      this.renderReactTemplates();\n    }\n  };\n  Rating.prototype.getTemplateString = function (template) {\n    var stringContent = '';\n    try {\n      var tempEle = select(template);\n      if (tempEle) {\n        //Return innerHTML incase of jsrenderer script else outerHTML\n        stringContent = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n      } else {\n        stringContent = template;\n      }\n    } catch (e) {\n      stringContent = template;\n    }\n    return compile(stringContent);\n  };\n  Rating.prototype.displayLabel = function () {\n    if (this.showLabel) {\n      this.spanLabel = this.createElement('span', {\n        className: LABEL\n      });\n      this.updateLabel();\n      this.updateLabelPosition();\n    } else {\n      if (this.wrapper.contains(this.spanLabel)) {\n        remove(this.spanLabel);\n        this.spanLabel = null;\n      }\n    }\n  };\n  Rating.prototype.updateLabel = function () {\n    if (this.showLabel) {\n      if (this.labelTemplate) {\n        if (this.spanLabel.firstChild) {\n          this.spanLabel.removeChild(this.spanLabel.firstChild);\n        }\n        var templateFunction = this.getTemplateString(this.labelTemplate);\n        this.spanLabel.append(templateFunction({\n          value: this.currentValue\n        }, this, 'ratingLabelTemplate', this.element.id + 'labelTemplate', this.isStringTemplate)[0]);\n      } else {\n        this.spanLabel.textContent = this.currentValue + ' / ' + this.itemsCount;\n      }\n      this.renderReactTemplates();\n    }\n  };\n  Rating.prototype.updateReset = function () {\n    if (this.allowReset) {\n      this.resetElement = this.createElement('span', {\n        className: RESET\n      });\n      this.updateResetButton();\n      EventHandler.add(this.resetElement, 'click', this.resetClicked, this);\n      this.wrapper.insertBefore(this.resetElement, this.ratingItemList);\n    } else {\n      if (this.wrapper.contains(this.resetElement)) {\n        remove(this.resetElement);\n        this.resetElement = null;\n      }\n    }\n  };\n  Rating.prototype.updateLabelPosition = function () {\n    this.clearLabelPosition();\n    this.spanLabel.classList.add('e-label-' + this.labelPosition.toLowerCase());\n    if (this.labelPosition === 'Left' || this.labelPosition === 'Top') {\n      this.wrapper.firstChild.after(this.spanLabel);\n    } else {\n      this.wrapper.appendChild(this.spanLabel);\n    }\n  };\n  Rating.prototype.clearLabelPosition = function () {\n    var removeCss = this.spanLabel.classList.value.match(/(e-label-[top|bottom|right|left]+)/g);\n    if (removeCss) {\n      removeClass([this.spanLabel], removeCss);\n    }\n  };\n  Rating.prototype.wireItemsEvents = function (itemElement, index) {\n    var _this = this;\n    EventHandler.add(itemElement, 'click', function (e) {\n      return _this.clickHandler(e);\n    }, this);\n    EventHandler.add(itemElement, 'mousemove', function (e) {\n      return _this.mouseMoveHandler(index, e);\n    }, this);\n    EventHandler.add(itemElement, 'mouseleave', this.mouseLeaveHandler, this);\n  };\n  Rating.prototype.clickHandler = function (e) {\n    this.currentValue = this.min > 0 && this.currentValue < this.min ? this.min : this.currentValue;\n    this.triggerChange(e, this.currentValue);\n    this.updateItemValue();\n    this.updateLabel();\n    if (this.allowReset) {\n      this.updateResetButton();\n    }\n  };\n  Rating.prototype.updateValueChange = function (e, val, isInteracted) {\n    if (isInteracted === void 0) {\n      isInteracted = true;\n    }\n    this.triggerChange(e, val, isInteracted);\n    this.updateItemValue();\n    this.updateLabel();\n  };\n  Rating.prototype.triggerChange = function (e, val, isInteracted) {\n    if (isInteracted === void 0) {\n      isInteracted = true;\n    }\n    val = this.validateValue(val);\n    this.currentValue = val;\n    if (this.currentValue === this.value) {\n      return;\n    }\n    var eventArgs = {\n      event: e,\n      isInteracted: isInteracted,\n      value: val,\n      previousValue: this.value\n    };\n    this.setProperties({\n      value: val\n    }, true);\n    this.trigger('valueChanged', eventArgs);\n  };\n  Rating.prototype.mouseMoveHandler = function (index, e) {\n    var currValue = this.calculateCurrentValue(index, e);\n    currValue = this.validateValue(currValue);\n    var element = this.itemElements[parseInt((index - 1).toString(), 10)];\n    if (currValue === this.currentValue) {\n      this.openRatingTooltip(element, false);\n      return;\n    }\n    this.updateCurrentValue(currValue);\n    this.openRatingTooltip(element, true);\n    var eventArgs = {\n      element: element,\n      event: e,\n      value: currValue\n    };\n    this.trigger('onItemHover', eventArgs);\n  };\n  Rating.prototype.openRatingTooltip = function (element, isChange) {\n    if (this.showTooltip) {\n      if (!this.tooltipOpen) {\n        this.updateTooltipContent(false);\n        this.tooltipObj.open(element); //eslint-disable-line\n        this.tooltipOpen = true;\n      } else if (isChange) {\n        this.updateTooltipContent(true);\n        this.tooltipObj.refresh(element);\n      }\n    }\n  };\n  Rating.prototype.closeRatingTooltip = function () {\n    if (this.tooltipOpen) {\n      this.tooltipObj.close();\n      this.tooltipOpen = false;\n    }\n  };\n  Rating.prototype.updateCurrentValue = function (currValue) {\n    this.currentValue = currValue;\n    this.updateItemValue();\n    this.updateLabel();\n  };\n  Rating.prototype.mouseLeaveHandler = function () {\n    this.closeRatingTooltip();\n    this.updateCurrentValue(this.value);\n  };\n  Rating.prototype.calculateCurrentValue = function (index, args) {\n    var currentValue = index;\n    if (!(this.enableSingleSelection || this.precision === PrecisionType.Full)) {\n      currentValue = args.offsetX / this.itemElements[index - 1].clientWidth;\n      currentValue = this.enableRtl ? 1 - currentValue : currentValue;\n      if (this.precision === PrecisionType.Quarter) {\n        currentValue = currentValue <= 0.25 ? 0.25 : currentValue <= 0.5 ? 0.5 : currentValue < 0.75 ? 0.75 : 1.0;\n      } else if (this.precision === PrecisionType.Half) {\n        currentValue = currentValue <= 0.5 ? 0.5 : 1;\n      }\n      currentValue = currentValue + index - 1;\n    }\n    return currentValue;\n  };\n  /**\n   * Reset’s the value to minimum.\n   *\n   * @returns {void}\n   */\n  Rating.prototype.reset = function () {\n    this.resetClicked(null, false);\n  };\n  Rating.prototype.resetClicked = function (e, isInteracted) {\n    if (isInteracted === void 0) {\n      isInteracted = true;\n    }\n    this.updateValueChange(e, this.min, isInteracted);\n    this.updateResetButton();\n  };\n  Rating.prototype.wireKeyboardEvent = function () {\n    this.keyboardModuleRating = new KeyboardEvents(this.wrapper, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  Rating.prototype.keyActionHandler = function (e) {\n    if (this.disabled || this.readOnly) {\n      return;\n    }\n    if (e.target.classList.contains(ITEMLIST)) {\n      switch (e.action) {\n        case 'uparrow':\n          this.handleNavigation(e, true);\n          break;\n        case 'downarrow':\n          this.handleNavigation(e, false);\n          break;\n        case 'leftarrow':\n          this.handleNavigation(e, this.enableRtl);\n          break;\n        case 'rightarrow':\n          this.handleNavigation(e, !this.enableRtl);\n          break;\n      }\n    }\n    if (this.allowReset && e.target.classList.contains('e-reset')) {\n      switch (e.action) {\n        case 'space':\n          this.resetClicked(e);\n          break;\n      }\n    }\n  };\n  Rating.prototype.handleNavigation = function (e, isIncrease) {\n    if (!isIncrease && this.value > this.min || isIncrease && this.value < this.itemsCount) {\n      var currentValue = this.precision === PrecisionType.Full || this.enableSingleSelection ? 1 : this.precision === PrecisionType.Half ? 0.5 : this.precision === PrecisionType.Quarter ? 0.25 : Math.round(0.1 * 10) / 10;\n      currentValue = isIncrease ? this.value + currentValue : this.value - currentValue;\n      this.updateValueChange(e, currentValue);\n      if (this.allowReset) {\n        this.updateResetButton();\n      }\n    }\n  };\n  Rating.prototype.updateContent = function () {\n    for (var i = 0; i < this.itemsCount; i++) {\n      var itemElement = this.itemElements[parseInt(i.toString(), 10)].firstElementChild;\n      this.renderItemContent(itemElement, this.getRatingValue(this.value, i), i, true);\n    }\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} - Module Name\n   * @private\n   */\n  Rating.prototype.getModuleName = function () {\n    return 'rating';\n  };\n  /**\n   * To get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n  Rating.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  Rating.prototype.removeItemElements = function () {\n    for (var i = 0; i < this.itemElements.length; i++) {\n      remove(this.itemElements[parseInt(i.toString(), 10)]);\n    }\n    this.itemElements = [];\n  };\n  /**\n   * Destroys the Rating instance.\n   *\n   * @returns {void}\n   */\n  Rating.prototype.destroy = function () {\n    var _this = this;\n    _super.prototype.destroy.call(this);\n    // unwires the events and detach the li elements\n    this.removeItemElements();\n    if (this.spanLabel) {\n      remove(this.spanLabel);\n      this.spanLabel = null;\n    }\n    if (this.resetElement) {\n      remove(this.resetElement);\n      this.resetElement = null;\n    }\n    if (this.showTooltip) {\n      this.tooltipObj.destroy();\n      this.tooltipObj = null;\n    }\n    remove(this.ratingItemList);\n    this.ratingItemList = null;\n    this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n    remove(this.wrapper);\n    this.wrapper = null;\n    this.keyboardModuleRating.destroy();\n    ['value', 'aria-label', 'name'].forEach(function (attr) {\n      _this.element.removeAttribute(attr);\n    });\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param  {RatingModel} newProp - Specifies new properties\n   * @param  {RatingModel} oldProp - Specifies old properties\n   * @returns {void}\n   * @private\n   */\n  Rating.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'value':\n          this.updateValueChange(null, this.value > this.min ? this.value : this.min, false);\n          break;\n        case 'min':\n          this.updateMinValue();\n          this.updateItemValue();\n          this.updateLabel();\n          break;\n        case 'showLabel':\n          this.displayLabel();\n          break;\n        case 'visible':\n          this.wrapper.classList[!this.visible ? 'add' : 'remove'](HIDDEN);\n          break;\n        case 'disabled':\n          this.updateDisabled();\n          break;\n        case 'readOnly':\n          this.wrapper.classList[this.readOnly ? 'add' : 'remove'](READONLY);\n          break;\n        case 'allowReset':\n          this.updateReset();\n          break;\n        case 'enableRtl':\n          this.wrapper.classList[this.enableRtl ? 'add' : 'remove'](RTL);\n          break;\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.wrapper], oldProp.cssClass.split(' '));\n          }\n          if (newProp.cssClass) {\n            addClass([this.wrapper], newProp.cssClass.split(' '));\n          }\n          if (this.tooltipObj) {\n            this.tooltipObj.setProperties({\n              cssClass: this.cssClass ? 'e-rating-tooltip ' + this.cssClass : 'e-rating-tooltip'\n            });\n          }\n          break;\n        case 'labelPosition':\n          this.updateLabelPosition();\n          break;\n        case 'showTooltip':\n          this.updateTooltip();\n          break;\n        case 'precision':\n          this.updatePrecision();\n          this.updateLabel();\n          break;\n        case 'enableSingleSelection':\n          //To validate the value against single selection and update the items, label + trigger change event if value changed\n          this.updateValueChange(null, this.currentValue, false);\n          break;\n        case 'enableAnimation':\n          this.wrapper.classList[this.enableAnimation ? 'add' : 'remove'](ANIMATION);\n          break;\n        case 'emptyTemplate':\n        case 'fullTemplate':\n          this.updateTemplateFunction();\n          this.updateContent();\n          break;\n        case 'labelTemplate':\n          this.updateLabel();\n          break;\n        case 'itemsCount':\n          this.removeItemElements();\n          this.renderItems();\n          this.updateItemValue();\n          this.updateLabel();\n          break;\n      }\n    }\n  };\n  __decorate([Property(false)], Rating.prototype, \"allowReset\", void 0);\n  __decorate([Property('')], Rating.prototype, \"cssClass\", void 0);\n  __decorate([Property(false)], Rating.prototype, \"disabled\", void 0);\n  __decorate([Property('')], Rating.prototype, \"emptyTemplate\", void 0);\n  __decorate([Property(true)], Rating.prototype, \"enableAnimation\", void 0);\n  __decorate([Property(false)], Rating.prototype, \"enableSingleSelection\", void 0);\n  __decorate([Property('')], Rating.prototype, \"fullTemplate\", void 0);\n  __decorate([Property(5)], Rating.prototype, \"itemsCount\", void 0);\n  __decorate([Property(LabelPosition.Right)], Rating.prototype, \"labelPosition\", void 0);\n  __decorate([Property('')], Rating.prototype, \"labelTemplate\", void 0);\n  __decorate([Property(0.0)], Rating.prototype, \"min\", void 0);\n  __decorate([Property(PrecisionType.Full)], Rating.prototype, \"precision\", void 0);\n  __decorate([Property(false)], Rating.prototype, \"readOnly\", void 0);\n  __decorate([Property(false)], Rating.prototype, \"showLabel\", void 0);\n  __decorate([Property(true)], Rating.prototype, \"showTooltip\", void 0);\n  __decorate([Property('')], Rating.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Property(0.0)], Rating.prototype, \"value\", void 0);\n  __decorate([Property(true)], Rating.prototype, \"visible\", void 0);\n  __decorate([Event()], Rating.prototype, \"beforeItemRender\", void 0);\n  __decorate([Event()], Rating.prototype, \"created\", void 0);\n  __decorate([Event()], Rating.prototype, \"onItemHover\", void 0);\n  __decorate([Event()], Rating.prototype, \"valueChanged\", void 0);\n  Rating = __decorate([NotifyPropertyChanges], Rating);\n  return Rating;\n}(Component);\nexport { Rating };","map":null,"metadata":{},"sourceType":"module"}