{"ast":null,"code":"import _slicedToArray from \"/Users/koonk/Documents/GitHub/CE65-20/packages/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/koonk/Documents/GitHub/CE65-20/packages/frontend/src/components/projects/businessGoal/businessGoalContent.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport makeAnimated from 'react-select/animated';\nimport { useSelector } from 'react-redux';\nimport Select from 'react-select';\nvar BusinessGoalContent = function BusinessGoalContent(props) {\n  var animatedComponents = makeAnimated();\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    onSelectedGoal = _useState2[0],\n    setOnSelectedGoal = _useState2[1];\n  var businessGoals = useSelector(function (state) {\n    return state.businessGoals.businessGoals;\n  });\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    businessGoalOptions = _useState4[0],\n    setBusinessGoalOptions = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isLoaded = _useState6[0],\n    setIsLoaded = _useState6[1];\n  var onSelectedGoalChange = function onSelectedGoalChange(id) {\n    var shallowBusinessGoals = JSON.parse(JSON.stringify(businessGoals));\n    var shallowOnSelectedGoal = businessGoals.find(function (each) {\n      return each._id == id;\n    });\n    shallowOnSelectedGoal.detail.cashflows = [];\n    if (shallowOnSelectedGoal.name.en == 'Yearly Cashflow') {\n      // alert(shallowOnSelectedGoal.detail.cashflows)\n      // alert(JSON.stringify(shallowOnSelectedGoal.detail.cashflows))\n\n      for (var i = 0; i < props.projectionPeriod; i++) {\n        shallowOnSelectedGoal.detail.cashflows.push(0);\n      }\n    } else if (shallowOnSelectedGoal.name.en == 'Monthly Cashflow') {\n      // alert(shallowOnSelectedGoal.detail.cashflows)\n      // alert(JSON.stringify(shallowOnSelectedGoal.detail.cashflows))\n\n      for (var _i = 0; _i < props.projectionPeriod * 12; _i++) {\n        shallowOnSelectedGoal.detail.cashflows.push(0);\n      }\n    }\n    alert(JSON.stringify(shallowOnSelectedGoal.detail));\n    setOnSelectedGoal(shallowOnSelectedGoal);\n  };\n  var onGoalValueChange = function onGoalValueChange(val) {\n    var shallowOnSelectedGoal = onSelectedGoal;\n    shallowOnSelectedGoal.goal.detail.value = val;\n    setOnSelectedGoal(shallowOnSelectedGoal);\n  };\n  var onGoalValuesChange = function onGoalValuesChange(index, val) {\n    var shallowOnSelectedGoal = onSelectedGoal;\n    shallowOnSelectedGoal.goal.detail.cashflows[index] = val;\n    setOnSelectedGoal(shallowOnSelectedGoal);\n  };\n  useEffect(function () {\n    if (!isLoaded) {\n      var shallowBusinesGoalOptions = businessGoals.map(function (each) {\n        return {\n          value: each._id,\n          label: each.name.th\n        };\n      });\n      setBusinessGoalOptions(shallowBusinesGoalOptions);\n      setIsLoaded(true);\n    }\n  }, [isLoaded]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"border border-danger align-items-center justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    closeMenuOnSelect: true,\n    components: animatedComponents,\n    name: \"business_goals\",\n    options: businessGoalOptions,\n    className: \"basic-multi-select\",\n    classNamePrefix: \"select\"\n    // onChange={(e) => onSelectedGoalChange(e.target.value)}\n    ,\n    onChange: function onChange(e) {\n      return onSelectedGoalChange(e.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }));\n};\nexport default BusinessGoalContent;","map":{"version":3,"names":["React","useEffect","useState","makeAnimated","useSelector","Select","BusinessGoalContent","props","animatedComponents","_useState","_useState2","_slicedToArray","onSelectedGoal","setOnSelectedGoal","businessGoals","state","_useState3","_useState4","businessGoalOptions","setBusinessGoalOptions","_useState5","_useState6","isLoaded","setIsLoaded","onSelectedGoalChange","id","shallowBusinessGoals","JSON","parse","stringify","shallowOnSelectedGoal","find","each","_id","detail","cashflows","name","en","i","projectionPeriod","push","alert","onGoalValueChange","val","goal","value","onGoalValuesChange","index","shallowBusinesGoalOptions","map","label","th","createElement","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","closeMenuOnSelect","components","options","classNamePrefix","onChange","e"],"sources":["/Users/koonk/Documents/GitHub/CE65-20/packages/frontend/src/components/projects/businessGoal/businessGoalContent.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport makeAnimated from 'react-select/animated';\nimport { useSelector } from 'react-redux';\nimport Select from 'react-select'\n\nconst BusinessGoalContent = (props) => {\n    const animatedComponents = makeAnimated();\n    const [onSelectedGoal, setOnSelectedGoal] = useState()\n    const businessGoals = useSelector(state => state.businessGoals.businessGoals)\n    const [businessGoalOptions, setBusinessGoalOptions] = useState()\n    const [isLoaded, setIsLoaded] = useState(false)\n\n    const onSelectedGoalChange = (id) => {\n        let shallowBusinessGoals = JSON.parse(JSON.stringify(businessGoals))\n        let shallowOnSelectedGoal = businessGoals.find(each => each._id == id)\n        shallowOnSelectedGoal.detail.cashflows = []\n        if (shallowOnSelectedGoal.name.en == 'Yearly Cashflow') {\n            // alert(shallowOnSelectedGoal.detail.cashflows)\n            // alert(JSON.stringify(shallowOnSelectedGoal.detail.cashflows))\n\n            for (let i = 0; i < props.projectionPeriod; i++) {\n                shallowOnSelectedGoal.detail.cashflows.push(0)\n            }\n        }\n        else if (shallowOnSelectedGoal.name.en == 'Monthly Cashflow') {\n            // alert(shallowOnSelectedGoal.detail.cashflows)\n            // alert(JSON.stringify(shallowOnSelectedGoal.detail.cashflows))\n\n            for (let i = 0; i < props.projectionPeriod * 12; i++) {\n                shallowOnSelectedGoal.detail.cashflows.push(0)\n            }\n        }\n\n        alert(JSON.stringify(shallowOnSelectedGoal.detail));\n        setOnSelectedGoal(shallowOnSelectedGoal)\n    }\n\n    const onGoalValueChange = (val) => {\n        let shallowOnSelectedGoal = onSelectedGoal\n        shallowOnSelectedGoal.goal.detail.value = val\n        setOnSelectedGoal(shallowOnSelectedGoal)\n    }\n\n    const onGoalValuesChange = (index, val) => {\n        let shallowOnSelectedGoal = onSelectedGoal\n        shallowOnSelectedGoal.goal.detail.cashflows[index] = val\n        setOnSelectedGoal(shallowOnSelectedGoal)\n    }\n\n    useEffect(() => {\n        if (!isLoaded) {\n            let shallowBusinesGoalOptions = businessGoals.map((each) => {\n                return { value: each._id, label: each.name.th }\n            })\n            setBusinessGoalOptions(shallowBusinesGoalOptions)\n            setIsLoaded(true)\n        }\n    }, [isLoaded])\n\n    return (\n        <div className='border border-danger align-items-center justify-content-center'>\n            <Select\n                closeMenuOnSelect={true}\n                components={animatedComponents}\n                name=\"business_goals\"\n                options={businessGoalOptions}\n                className=\"basic-multi-select\"\n                classNamePrefix=\"select\"\n                // onChange={(e) => onSelectedGoalChange(e.target.value)}\n                onChange={(e) => onSelectedGoalChange(e.value)}\n            />\n            {/* \n            {onSelectedGoal && <div>\n                <div className=''>เป้าหมายทีต้องการ:</div>\n                {(onSelectedGoal.name.en == 'Yearly Cashflow' || onSelectedGoal.name.en == 'Monthly Cashflow') &&\n                    onSelectedGoal.detail.cashflows.map((eachCashflow, index) => (\n                        <div className='d-flex'>\n                            <div className=\"w-50 sale-trend-box\">{`กระแสเงินสด${onSelectedGoal.name.en == 'Yearly Cashflow' ?\n                                'ปีที่ ' : 'เดือนที่ '}${index + 1}`\n                            }</div>\n                            <input\n                                className=\"sale-trend-input\"\n                                type='business-goals'\n                                onChange={(e) => onGoalValuesChange(index, e.target.value)}\n                                onKeyPress={(e) => !/[0-9\\b]+/.test(e.key) && e.preventDefault()}\n                                // {...register(`onSelectedGoal.name.en${index}`, { required: true })}\n                                required\n                            />\n                        </div>\n                    ))\n                }\n                {(onSelectedGoal.name.en !== 'Yearly Cashflow' || onSelectedGoal.name.en !== 'Monthly Cashflow') &&\n                    <input\n                        className=\"sale-trend-input\"\n                        type='business-goals'\n                        onChange={(e) => onGoalValueChange(e.target.value)}\n                        onKeyPress={(e) => !/[0-9\\b]+/.test(e.key) && e.preventDefault()}\n                        // {...register(`onSelectedGoal.name.en${index}`, { required: true })}\n                        required\n                    />\n                }\n            </div>\n            } */}\n        </div>\n    )\n}\n\nexport default BusinessGoalContent"],"mappings":"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"},"metadata":{},"sourceType":"module"}