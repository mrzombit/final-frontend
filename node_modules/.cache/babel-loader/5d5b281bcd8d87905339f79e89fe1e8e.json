{"ast":null,"code":"function getTrace(node) {\n  function shouldPutToTrace(syntax) {\n    if (syntax === null) {\n      return false;\n    }\n    return syntax.type === 'Type' || syntax.type === 'Property' || syntax.type === 'Keyword';\n  }\n  function hasMatch(matchNode) {\n    if (Array.isArray(matchNode.match)) {\n      // use for-loop for better perfomance\n      for (var i = 0; i < matchNode.match.length; i++) {\n        if (hasMatch(matchNode.match[i])) {\n          if (shouldPutToTrace(matchNode.syntax)) {\n            result.unshift(matchNode.syntax);\n          }\n          return true;\n        }\n      }\n    } else if (matchNode.node === node) {\n      result = shouldPutToTrace(matchNode.syntax) ? [matchNode.syntax] : [];\n      return true;\n    }\n    return false;\n  }\n  var result = null;\n  if (this.matched !== null) {\n    hasMatch(this.matched);\n  }\n  return result;\n}\nfunction testNode(match, node, fn) {\n  var trace = getTrace.call(match, node);\n  if (trace === null) {\n    return false;\n  }\n  return trace.some(fn);\n}\nfunction isType(node, type) {\n  return testNode(this, node, function (matchNode) {\n    return matchNode.type === 'Type' && matchNode.name === type;\n  });\n}\nfunction isProperty(node, property) {\n  return testNode(this, node, function (matchNode) {\n    return matchNode.type === 'Property' && matchNode.name === property;\n  });\n}\nfunction isKeyword(node) {\n  return testNode(this, node, function (matchNode) {\n    return matchNode.type === 'Keyword';\n  });\n}\nmodule.exports = {\n  getTrace: getTrace,\n  isType: isType,\n  isProperty: isProperty,\n  isKeyword: isKeyword\n};","map":null,"metadata":{},"sourceType":"script"}