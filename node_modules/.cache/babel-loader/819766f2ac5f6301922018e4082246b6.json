{"ast":null,"code":"module.exports = absolutize;\n\n/**\n * redefine `path` with absolute coordinates\n *\n * @param {Array} path\n * @return {Array}\n */\n\nfunction absolutize(path) {\n  var startX = 0;\n  var startY = 0;\n  var x = 0;\n  var y = 0;\n  return path.map(function (seg) {\n    seg = seg.slice();\n    var type = seg[0];\n    var command = type.toUpperCase();\n\n    // is relative\n    if (type != command) {\n      seg[0] = command;\n      switch (type) {\n        case 'a':\n          seg[6] += x;\n          seg[7] += y;\n          break;\n        case 'v':\n          seg[1] += y;\n          break;\n        case 'h':\n          seg[1] += x;\n          break;\n        default:\n          for (var i = 1; i < seg.length;) {\n            seg[i++] += x;\n            seg[i++] += y;\n          }\n      }\n    }\n\n    // update cursor state\n    switch (command) {\n      case 'Z':\n        x = startX;\n        y = startY;\n        break;\n      case 'H':\n        x = seg[1];\n        break;\n      case 'V':\n        y = seg[1];\n        break;\n      case 'M':\n        x = startX = seg[1];\n        y = startY = seg[2];\n        break;\n      default:\n        x = seg[seg.length - 2];\n        y = seg[seg.length - 1];\n    }\n    return seg;\n  });\n}","map":null,"metadata":{},"sourceType":"script"}